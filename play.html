<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>부엉이테일</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser-arcade-physics.min.js"></script>
</head>
<body id="play">
<script>

class EnemyTurn extends Phaser.Scene {
    constructor () {
        super();
    }

    preload () {
        this.load.image('player', './images/player.png');
        this.load.image('wall', './images/wall.png');
    }
    
    create () {
        let up = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.UP);
        let down = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.DOWN);
        let left = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.LEFT);
        let right = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.RIGHT);

        // player
        let player = this.physics.add.sprite(100, 200, "player").setScale(0.1).refreshBody();
        player.setBounce(0.2);
        speed = 5;
        // wall
        // let wall = this.physics.add.staticGroup();
        // wall.create(400, 590, 'wall');
        // wall.create(140, 400, 'wall');
        // wall.create(50, 250, 'wall');
        // wall.create(750, 220, 'wall');

        // this.physics.add.collider(player, wall);
    }

    update() {
        this.width = window.innerWidth-10;
        this.height = window.innerHeight-10;

        if (up.isDown) {
            // player.setVelocityY(speed);
            player.y -= speed
        }
        if (down.isDown) {
            // player.setVelocityY(-speed);
            player.y += speed
        }
        if (right.isDown) {
            // player.setVelocityX(speed);
            player.x += speed
        }
        if (left.isDown) {
            // player.setVelocityX(-speed);
            player.x -= speed
        }
    }
}

const config = {
    type: Phaser.AUTO,
    width: window.innerWidth-10,
    height: window.innerHeight-10,
    physics: {
        default: 'arcade',
        arcade: {
            // gravity: { y: 200 }
        }
    },
    scene: EnemyTurn
};

const game = new Phaser.Game(config);

</script>
</body>
</html>